(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(){0;return"."+window.location.hostname.split(".").slice(-2).join(".")}(),t=a("__zp_sseed__"),n=a("__zp_sname__"),i=a("__zp_sts__");if(t&&n&&i){var c=document.createElement("iframe");c.style.display="none",c.name="zhipinFrame",(document.body||document.documentElement).appendChild(c);var s=document.createElement("script");s.type="text/javascript",s.src="/web/common/security-js/"+n+".js",navigator.userAgent.indexOf("Firefox")<0&&c.contentDocument.body.appendChild(s),c.onload=function(){c.contentDocument.body.appendChild(s)};var u=function(){var n,a,s=(new c.contentWindow.ABC).z(t,parseInt(i,10)+60*(480+(new Date).getTimezoneOffset())*1e3);if(r("__zp_stoken__",encodeURIComponent(s),2,e),r("__zp_sseed__","",0,e),r("__zp_sname__","",0,e),r("__zp_sts__","",0,e),void 0!==window.wst&&"function"==typeof wst.postMessage&&o.deviceInfo.isPhone){var u={name:"setWKCookie",params:{url:e,name:"__zp_stoken__",value:encodeURIComponent(s),expiredate:(n=2,a=new Date,a.getTime()+32*n*60*60*1e3),path:"/"}};window.wst.postMessage(JSON.stringify(u))}};s.onreadystatechange=u,s.onload=u}};var o=n(5);function a(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o+=1){var a=n[o].trim();if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}function r(e,t,n,o){var a=new Date;a.setTime(a.getTime()+32*n*60*60*1e3);var r="expires="+a.toGMTString();document.cookie=o?e+"="+t+";"+r+";path=/;domain="+o:e+"="+t+";"+r+";path=/"}},27:function(e,t,n){"use strict";n.r(t);var o=n(28),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t.default=a.a},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mixins:[],props:{visible:{type:Boolean,default:!1}},components:{},data:function(){return{}},computed:{},methods:{handleStop:function(){}}}},29:function(e,t,n){e.exports={root:"root-2IPnT",loading:"loading-2NzS3","mui-progress-circular-rotate":"mui-progress-circular-rotate-3O4TW",muiProgressCircularRotate:"mui-progress-circular-rotate-3O4TW"}},30:function(e,t,n){"use strict";n.r(t);var o=n(29),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t.default=a.a},41:function(e,t,n){"use strict";var o=function(){var e=this.$createElement,t=this._self._c||e;return this.visible?t("div",{directives:[{name:"tap",rawName:"v-tap.stop",value:{methods:this.handleStop},expression:"{methods: handleStop}",modifiers:{stop:!0}}],class:this.$style.root},[t("div",{class:this.$style.loading})]):this._e()},a=[];o._withStripped=!0,n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}))},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxRouter=void 0;var o,a,r,i=(o=b(regeneratorRuntime.mark((function e(t){var n,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.send({whiteList:["/config"].concat(a),blackList:["/config/json-data","/config/basic-param-json","/config/wx-accredit"].concat(r),config:t});case 2:return n=e.sent,o=null,e.prev=4,e.next=7,u.default.request(n.config);case 7:o=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),o=e.t0;case 13:return e.next=15,x.send({whiteList:["/result"].concat(a),blackList:[].concat(r),result:o,config:t});case 15:if(n=e.sent,!((o=n.result)instanceof Error)){e.next=20;break}throw o;case 20:return e.abrupt("return",o);case 21:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return o.apply(this,arguments)}),c=(a=b(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i({method:"get",url:"/wapi/zppassport/get/token"},[],["/config/add-token","/result/analysis"]);case 3:if(200!==(t=e.sent).status){e.next=26;break}if(0!==t.data.code){e.next=9;break}k=t.data.zpData.token,e.next=24;break;case 9:if(7!==t.data.code&&11!==t.data.code){e.next=13;break}y(),e.next=24;break;case 13:n=t.data.code,e.t0=n,e.next=31===e.t0?17:32===e.t0?19:35===e.t0||36===e.t0?21:23;break;case 17:return window.location.href="/antispam/forbidden/page?code=31",e.abrupt("break",24);case 19:return window.location.href="/antispam/forbidden/page?code=32",e.abrupt("break",24);case 21:return window.location.href="/wapi/zpAntispam/verify/sliderNew?callbackUrl="+encodeURIComponent(window.location.href),e.abrupt("break",24);case 23:throw Error("服务器异常");case 24:e.next=27;break;case 26:throw Error();case 27:e.next=32;break;case 29:throw e.prev=29,e.t1=e.catch(0),Error("Fetch token error");case 32:case"end":return e.stop()}}),e,this,[[0,29]])}))),function(){return a.apply(this,arguments)}),s=(r=b(regeneratorRuntime.mark((function e(t){var n,o,a,r,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i({method:"get",url:"/wapi/zpweixin/getState",params:{url:window.location.href}},[],["/result/analysis"]);case 3:if(200!==(n=e.sent).status||0!==n.data.code){e.next=17;break}o=n.data.zpData.state,a="",r=(0,m.getUrlParam)("payFrom"),c=m.deviceInfo.isWxWork,s=(0,m.getUrlParam)("hunter"),"crm"===r?(a=c?encodeURI(window.location.origin+"/wapi/zpweixin/official/auth/enterprise/crm"):encodeURI(window.location.origin+"/wapi/zpweixin/official/auth/crm"),console.log("crm微信授权")):(a=s&&"1"===s.toString()?encodeURI(window.location.origin+"/wapi/zpweixin/official/auth/hunter"):encodeURI(window.location.origin+"/wapi/zpweixin/official/auth/boss"),console.log("非crm微信授权")),(u=(0,m.getUrlParam)("wxAppId"))||("m.zhipin.com"===window.location.host||"pre-www.zhipin.com"===window.location.host?u="crm"===r?c?"ww320e32f01303c14d":"wx0aced5edc071e37c":"wx154e925eb1f54c86":(u="crm"===r&&c?"ww320e32f01303c14d":"wxf2f1ec0bbfc09fd1",console.log(u))),(0,m.setCookie)("currentAuthorizationWxAppId",u,window.location.host,1/24),8001===t?window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+u+"&redirect_uri="+a+"&response_type=code&scope=snsapi_base&state="+o+"#wechat_redirect":8002===t&&(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+u+"&redirect_uri="+a+"&response_type=code&scope=snsapi_userinfo&state="+o+"#wechat_redirect"),e.next=18;break;case 17:throw Error();case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])}))),function(e){return r.apply(this,arguments)}),u=v(n(82)),d=v(n(120)),f=v(n(122)),l=v(n(125)),p=v(n(80)),h=v(n(19)),w=v(n(48)),m=n(5),g=v(n(174));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function o(a,r){try{var i=t[a](r),c=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(c).then((function(e){o("next",e)}),(function(e){o("throw",e)}));e(c)}("next")}))}}var _,x=t.ajaxRouter=new d.default,k=null;function y(){w.default.alert({title:"温馨提示",message:"登录信息失效，请重新登录",confirmButtonText:"重新登录"}).then((function(){var e=encodeURIComponent(window.location.href),t="/logout/?toUrl="+encodeURIComponent(window.location.origin+"/user/login.html?&appId=3nR40g~~&s=url&jumpUrl="+e)+"&a="+(new Date).getTime();window.location.href=t}))}x.use("/config/add-token",(function(e){(0,l.default)(this.config,{headers:{token:k}}),e()})),x.use("/config/loading",(function(e){var t=this.config.useLoading;(void 0===t||t)&&p.default.show(),e()})),x.use("/config/url-path-prefix",(function(e){var t=this.config.url;this.config.url=""+t,e()})),x.use("/config/basic-param-json",(function(e){(0,l.default)(this.config,{timeout:4e4,headers:{"Content-Type":"application/json;charset=UTF-8"}}),e()})),x.use("/config/basic-param",(function(e){(0,l.default)(this.config,{timeout:4e4,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),e()})),x.use("/config/path-params",(function(e){var t=this.config,n=t.url,o=t.pathParams;this.config.url=n.replace(/:([a-zA-Z0-9\-_]+)/g,(function(e,t){return o&&o[t]?o[t]:e})),e()})),x.use("/config/form-data",(function(e){!this.config.data||this.config.data instanceof FormData||(this.config.data=f.default.stringify(this.config.data)),e()})),x.use("/config/json-data",(function(e){this.config.data&&(this.config.data=JSON.stringify(this.config.data)),e()})),x.use("/config/wx-accredit",(function(e){if(m.deviceInfo.isWX){var t=(0,m.getUrlParam)("wxAppId"),n=(0,m.getUrlParam)("payFrom"),o=m.deviceInfo.isWxWork;t||("m.zhipin.com"===window.location.host||"pre-www.zhipin.com"===window.location.host?t="crm"===n?o?"ww320e32f01303c14d":"wx0aced5edc071e37c":"wx154e925eb1f54c86":(t="crm"===n&&o?"ww320e32f01303c14d":"wxf2f1ec0bbfc09fd1",console.log(t))),(0,m.getCookie)("currentAuthorizationWxAppId")!==t&&s(8001)}e()})),x.use("/result/loading",(function(e){var t=this.config.useLoading;(void 0===t||t)&&p.default.hide(),e()})),x.use("/result/analysis",(function(e){var t=this.result;if(t instanceof Error)this.result=Error("Timeout");else if(200===t.status){var n=t.data,o=n.rescode,a=n.resmsg,r=n.data,i=t.data,c=i.code,u=i.message,d=i.zpData;switch(void 0===o&&(o=0===c?1:1===c?0:c,a=u,r=d),t.data.token&&(k=t.data.token),o){case 1:this.result=r||t.data;break;case 5001:k=null;case 8001:case 8002:s(c);break;case 7:case 1011:console.log(7,11),y();break;case 31:window.location.href="/antispam/forbidden/page?code=31";break;case 32:window.location.href="/antispam/forbidden/page?code=32";break;case 35:case 36:window.location.href="/wapi/zpAntispam/verify/sliderNew?callbackUrl="+encodeURIComponent(window.location.href);break;case 37:window.location.href="/web/common/security-check.html?seed="+d.seed+"&name="+d.name+"&ts="+d.ts+"&callbackUrl="+encodeURIComponent(window.location.href);break;default:this.result=Error(a),this.errorInfo={msg:a,code:o}}(0,g.default)()}else this.result=Error("Unknown");e()})),x.use("/handle-error",(function(e){var t=this.result,n=this.errorInfo;t instanceof Error&&n&&h.default.show(n.msg),e()})),t.default=(_=b(regeneratorRuntime.mark((function e(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n[0].wt&&(k=null!=k?k:n[0].wt,console.log("token: "+k)),"post"!==n[0].method.toLowerCase()||k||n[0].notoken){e.next=4;break}return e.next=4,c();case 4:return e.abrupt("return",i.apply(void 0,n));case 5:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(3)),a=i(n(17)),r=i(n(92));function i(e){return e&&e.__esModule?e:{default:e}}o.default.use(a.default);var c,s=null,u=0;c=document.createElement("div"),document.body.appendChild(c),s=new o.default({components:{Loading:r.default},data:function(){return{visible:!1}},template:'<Loading :visible="visible"/>'}).$mount(c),r.default.show=function(){u+=1,s.visible=!0},r.default.hide=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(u=e?0:Math.max(0,u-1))<1&&(s.visible=!1)},t.default=r.default},92:function(e,t,n){"use strict";n.r(t),function(e){var o=n(41),a=n(27);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);var i=n(30),c=n(0),s={},u=!1;e.hot&&e.hot.dispose((function(e){u=!0})),e.hot&&e.hot.accept(["./index.vue?vue&type=style&index=0&lang=less&module=true"],(function(){var e=s.$style;if(e){var t=n(30);JSON.stringify(t)!==JSON.stringify(e)&&(s.$style=t,n(2).rerender("5a565f2a"))}}));var d=Object(c.a)(a.default,o.a,o.b,!1,(function(e){u||(s.$style=i.default.locals||i.default,Object.defineProperty(this,"$style",{get:function(){return s.$style}}))}),null,null);d.options.__file="src/vue_expand/component/loading/index.vue",t.default=d.exports}.call(this,n(1)(e))}}]);